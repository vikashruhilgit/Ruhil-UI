import { Meta, Canvas, Story, ArgsTable, Source } from '@storybook/addon-docs';
import '../../src/ruhil-ui';

<Meta title="Firstech UI/Form Component/Select/Doc" />

<style>{`

`}</style>

# Select `<ft-select>`

<p>Selects display a list of choices on temporary surfaces.</p>

## Example Usage

Note: For `boolean` attributes, `true` means simply setting the attribute (e.g. `<ft-yourcomponent prop>`) and `false` means not setting the attribute (e.g. `<ft-yourcomponent>` without `prop` attribute).

### Basic (filled)

<Canvas withToolbar>
  <Story id="ruhil-ui-form-component-text-area--standard" height="100px" />
</Canvas>

```html
<ft-select label="filled">
  <ft-list-item></ft-list-item>
  <ft-list-item value="0">Item 0</ft-list-item>
  <ft-list-item value="1">Item 1</ft-list-item>
  <ft-list-item value="2">Item 2</ft-list-item>
  <ft-list-item value="3">Item 3</ft-list-item>
</ft-select>
```

### Outlined

<Canvas withToolbar>
  <Story id="ruhil-ui-form-component-text-area--helper-text" height="100px" />
</Canvas>

```html
<ft-select outlined label="outlined">
  <ft-list-item></ft-list-item>
  <ft-list-item value="0">Item 0</ft-list-item>
  <ft-list-item value="1">Item 1</ft-list-item>
  <ft-list-item value="2">Item 2</ft-list-item>
  <ft-list-item value="3">Item 3</ft-list-item>
</ft-select>
```

### Preselected

<Canvas withToolbar>
  <Story id="ruhil-ui-form-component-text-area--primary-color" height="100px" />
</Canvas>

```html
<ft-select label="preselected">
  <ft-list-item></ft-list-item>
  <ft-list-item selected value="0">Item 0</ft-list-item>
  <ft-list-item value="1">Item 1</ft-list-item>
  <ft-list-item value="2">Item 2</ft-list-item>
  <ft-list-item value="3">Item 3</ft-list-item>
</ft-select>
<ft-textarea label="My Textarea" required> </ft-textarea>
```

### Icon

<p>
  Icon is a material-icons font name. Additionally, all options must have
  <code>graphic="icon"</code> defined to enable proper spacing.
</p>

<Canvas withToolbar>
  <Story id="ruhil-ui-form-component-text-area--primary-color" height="100px" />
</Canvas>

```html
<ft-select label="has icon" icon="event">
  <ft-list-item graphic="icon" value="1">Option 1</ft-list-item>
  <ft-list-item graphic="icon" value="2">Option 2</ft-list-item>
  <ft-list-item graphic="icon" value="3">Option 3</ft-list-item>
</ft-select>
```

### Required (error, validation message)

<Canvas withToolbar>
  <Story
    id="ruhil-ui-form-component-text-area--variants-outlined"
    height="100px"
  />
</Canvas>

```html
<ft-select
  required
  validationMessage="This Field is Required"
  label="required (error)"
>
  <ft-list-item selected></ft-list-item>
  <ft-list-item value="0">Item 0</ft-list-item>
  <ft-list-item value="1">Item 1</ft-list-item>
  <ft-list-item value="2">Item 2</ft-list-item>
  <ft-list-item value="3">Item 3</ft-list-item>
</ft-select>
<ft-select
  required
  validationMessage="This Field is Required"
  outlined
  label="required (error)"
>
  <ft-list-item selected></ft-list-item>
  <ft-list-item value="0">Item 0</ft-list-item>
  <ft-list-item value="1">Item 1</ft-list-item>
  <ft-list-item value="2">Item 2</ft-list-item>
  <ft-list-item value="3">Item 3</ft-list-item>
</ft-select>
```

### Helper Text

<Canvas withToolbar>
  <Story
    id="ruhil-ui-form-component-text-area--variant-shaped"
    height="100px"
  />
</Canvas>

```html
<ft-select label="has helper text" helper="Helper Text">
  <ft-list-item></ft-list-item>
  <ft-list-item selected value="0">Item 0</ft-list-item>
  <ft-list-item value="1">Item 1</ft-list-item>
  <ft-list-item value="2">Item 2</ft-list-item>
  <ft-list-item value="3">Item 3</ft-list-item>
</ft-select>
```

### Styled

<Canvas withToolbar>
  <Story
    id="ruhil-ui-form-component-text-area--variant-shaped"
    height="100px"
  />
</Canvas>

```html
<style>
  ft-select {
    --mdc-theme-primary: blue;
    --mdc-select-fill-color: aliceblue;
    --mdc-select-label-ink-color: rgba(0, 0, 0, 0.75);
    --mdc-select-dropdown-icon-color: blue;

    --mdc-select-idle-line-color: rgba(0, 0, 255, 0.42);
    --mdc-select-hover-line-color: rgba(0, 0, 255, 0.87);

    --mdc-select-outlined-idle-border-color: rgba(0, 0, 255, 0.42);
    --mdc-select-outlined-hover-border-color: rgba(0, 0, 255, 0.87);

    /* inherits the styles of ft-menu internally */
    --mdc-menu-item-height: 30px;
    --mdc-theme-surface: aliceblue;

    /* inherits the styles of ft-list internally */
    --mdc-list-vertical-padding: 0px;
    --mdc-list-side-padding: 30px;
  }
</style>
<ft-select helper="Helper Text" label="styled">
  <ft-list-item></ft-list-item>
  <ft-list-item selected value="0">Item 0</ft-list-item>
  <ft-list-item value="1">Item 1</ft-list-item>
  <ft-list-item value="2">Item 2</ft-list-item>
  <ft-list-item value="3">Item 3</ft-list-item>
</ft-select>
<ft-select outlined helper="Helper Text" label="styled">
  <ft-list-item></ft-list-item>
  <ft-list-item selected value="0">Item 0</ft-list-item>
  <ft-list-item value="1">Item 1</ft-list-item>
  <ft-list-item value="2">Item 2</ft-list-item>
  <ft-list-item value="3">Item 3</ft-list-item>
</ft-select>
```

## API

### Slots

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <em>default</em>
      </td>
      <td>
        Content to display in the selects internal <code>&lt;ft-menu&gt;</code>{' '}
        element.
      </td>
    </tr>
  </tbody>
</table>

<p>
  <code>ft-select</code> internally uses
  <a href="https://github.com/material-components/material-web/tree/master/packages/list">
    <code>ft-list</code>
  </a>, so the default slot has the same interface as the default slot of <code>
    ft-list
  </code>.
</p>

### Properties/Attributes

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>value</code>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>""</code>
      </td>
      <td>
        The select control's value determined by the <code>value</code> property
        of the currently selected list item. Setting value will attempt to
        select a list-item with the same value. If one does not match, it will
        set itself to <code>""</code> and the <code>index</code> to{' '}
        <code>-1</code>. Setting <code>value</code> before the list item is
        attached will not select the item.
      </td>
    </tr>
    <tr>
      <td>
        <code>label</code>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>""</code>
      </td>
      <td>
        Sets floating label value. <strong>NOTE:</strong> The label will not
        float if the selected item has a falsey value property.
      </td>
    </tr>
    <tr>
      <td>
        <code>naturalMenuWidth</code>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>
        Sets the dropdown menu's width to <code>auto</code>.
      </td>
    </tr>
    <tr>
      <td>
        <code>fixedMenuPosition</code>
      </td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>
        Sets the dropdown menu's position to <code>fixed</code>. This is useful
        when the select is inside of a stacking context e.g. inside of an{' '}
        <code>ft-dialog</code>. Note, that{' '}
        <a href="https://github.com/material-components/material-web/tree/master/packages/menu#css-custom-properties">
          <code>--mdc-menu-min-width</code>
        </a>{' '}
        or{' '}
        <a href="https://github.com/material-components/material-web/tree/master/packages/menu#css-custom-properties">
          <code>--mdc-menu-max-width</code>
        </a>{' '}
        may have to be set to resize the menu to the width anchor.
      </td>
    </tr>
    <tr>
      <td>
        <code>icon</code>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>""</code>
      </td>
      <td>
        Leading icon to display in select. See{' '}
        <a href="https://github.com/material-components/material-web/tree/master/packages/icon">
          <code>ft-icon</code>
        </a>
        . <em>Note</em>: for proper list spacing, each list item must have <code>
          graphic="icon"
        </code> or <code>graphic="avatar"</code> to be set.
      </td>
    </tr>
    <tr>
      <td>
        <code>disabled</code>
      </td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>Whether or not the select should be disabled.</td>
    </tr>
    <tr>
      <td>
        <code>outlined</code>
      </td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>Whether or not to show the material outlined variant.</td>
    </tr>
    <tr>
      <td>
        <code>helper</code>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>""</code>
      </td>
      <td>
        Helper text to display below the select. Always displays by default.
      </td>
    </tr>
    <tr>
      <td>
        <code>required</code>
      </td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>Displays error state if value is empty and select is blurred.</td>
    </tr>
    <tr>
      <td>
        <code>validationMessage</code>
      </td>
      <td>
        <code>string</code>
      </td>
      <td>
        <code>""</code>
      </td>
      <td>
        Message to show in the error color when the select is invalid. (Helper
        text will not be visible)
      </td>
    </tr>
    <tr>
      <td>
        <code>selected</code>
      </td>
      <td>
        <code>ListItemBase</code>|<code>null</code>
      </td>
      <td>
        <code>null</code>
      </td>
      <td>Selected list item element.</td>
    </tr>
    <tr>
      <td>
        <code>items</code>
      </td>
      <td>
        <code>ListItemBase[]</code>
      </td>
      <td>
        <code>[]</code>
      </td>
      <td>List of selectable items.</td>
    </tr>
    <tr>
      <td>
        <code>index</code>
      </td>
      <td>
        <code>number</code>
      </td>
      <td>
        <code>-1</code>
      </td>
      <td>Index of selected list item.</td>
    </tr>
    <tr>
      <td>
        <code>validity</code>
      </td>
      <td>
        <code>ValidityState</code> (readonly)
      </td>
      <td>
        <code>DefaultValidity</code>*
      </td>
      <td>
        The{' '}
        <a
          href="https://developer.mozilla.org/en-US/docs/Web/API/ValidityState"
          rel="nofollow"
        >
          <code>ValidityState</code>
        </a>{' '}
        of the select.
      </td>
    </tr>
    <tr>
      <td>
        <code>validityTransform</code>
      </td>
      <td>
        <code>ValidityTransform</code>**|<code>null</code>
      </td>
      <td>
        <code>null</code>
      </td>
      <td>
        Callback called before each validation check. See the
          `ft-textfield`'s validation section
        for more details.
      </td>
    </tr>
    <tr>
      <td>
        <code>validateOnInitialRender</code>
      </td>
      <td>
        <code>boolean</code>
      </td>
      <td>
        <code>false</code>
      </td>
      <td>Runs validation check on initial render.</td>
    </tr>

  </tbody>
</table>

<p>
  * <code>DefaultValidity</code> is:
  <code>
    ts badInput: false, customError: false, patternMismatch: false,
    rangeOverflow: false, rangeUnderflow: false, stepMismatch: false, tooLong:
    false, tooShort: false, typeMismatch: false, valid: true, valueMissing:
    false,
  </code>
</p>

<p>
  ** See
  <code>ft-textfield</code>'s properties section for more info.
</p>

### Methods

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>checkValidity() =&gt; boolean</code>
      </td>
      <td>
        Returns <code>true</code> if the select passes validity checks. Returns{' '}
        <code>false</code> and fires an
          <code>invalid</code>
        event on the select otherwise. <p></p>
        <strong>NOTE:</strong> When accessing any property or function that
        checks validity at select initial boot up, you may have to await{' '}
        <code>&lt;ft-select&gt;.updateComplete</code>.
      </td>
    </tr>
    <tr>
      <td>
        <code>reportValidity() =&gt; boolean</code>
      </td>
      <td>
        Runs <code>checkValidity()</code> method, and if it returns false, then
        it reports to the user that the input is invalid.
      </td>
    </tr>
    <tr>
      <td>
        <code>setCustomValidity(message:string) =&gt; void</code>
      </td>
      <td>
        Sets a custom validity message (also overwrites{' '}
        <code>validationMessage</code>). If this message is not the empty
        string, then the element is suffering from a custom validity error and
        does not validate.
      </td>
    </tr>
    <tr>
      <td>
        <code>select(index: number) =&gt; void</code>
      </td>
      <td>Selects the element at the given index.</td>
    </tr>
    <tr>
      <td>
        <code>layout(updateItems = true) =&gt; Promise&lt;void&gt;</code>
      </td>
      <td>
        Resets tabindex on all items and will update <code>items</code> model if
        provided true. It may be required to call layout if selectability of an
        element is dynamically changed. e.g. <code>[ft-list-item]</code>{' '}
        attribute is removed from a list item or <code>noninteractive</code> is
        dynamically set on a list item. Also re-calculates layout. If a select
        is styled with <code>display:none</code> before it is first rendered,
        and it has a label that is floating, then you must call{' '}
        <code>layout()</code> the first time you remove{' '}
        <code>display:none</code>, or else the notch surrounding the label will
        not render correctly.
      </td>
    </tr>
    <tr>
      <td>
        <code>layoutOptions() =&gt; Promise&lt;void&gt;</code>
      </td>
      <td>
        Synchronizes the list of options with the model of the component and
        updates the selected text. Call this if the selected item is dynamically
        updated in value or text.
      </td>
    </tr>

  </tbody>
</table>

### Events

<table>
  <thead>
    <tr>
      <th>Event Name</th>
      <th>Target</th>
      <th>Detail</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>opened</code>
      </td>
      <td>
        <code>ft-select-surface</code>
      </td>
      <td>none</td>
      <td>Fired menu opens.</td>
    </tr>
    <tr>
      <td>
        <code>closed</code>
      </td>
      <td>
        <code>ft-select-surface</code>
      </td>
      <td>none</td>
      <td>Fired menu closes.</td>
    </tr>
    <tr>
      <td>
        <code>selected</code>
      </td>
      <td>
        <code>ft-list</code>
      </td>
      <td>
        <code>SelectedDetail</code>*
      </td>
      <td>
        Fired when a selection has been made. Property <code>index</code> is the
        selected index (will be of type <code>number</code>)
      </td>
    </tr>
  </tbody>
</table>

<p>
  * See
  <code>ft-list</code>'s Events section for more details.
</p>

### CSS Custom Properties

<p>
  <code>ft-select</code> internally uses both <code>ft-menu</code> and{' '}
  <code>ft-list</code>, so all custom properties from <code>ft-menu</code> and{' '}
  <code>ft-list</code> propagate through <code>ft-select</code>.
</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>--mdc-select-error-color</code>
      </td>
      <td>
        <code>--mdc-theme-error</code>
      </td>
      <td>Applies where --mdc-theme-error applies.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-idle-line-color</code>
      </td>
      <td>
        <code>rgba(0, 0, 0, 0.42)</code>
      </td>
      <td>Color of the filled select's bottom line when idle.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-hover-line-color</code>
      </td>
      <td>
        {' '}
        <code>rgba(0, 0, 0, 0.87)</code>
      </td>
      <td>Color of the filled select's bottom line when hovering.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-outlined-idle-border-color</code>
      </td>
      <td>
        {' '}
        <code>rgba(0, 0, 0, 0.38)</code>
      </td>
      <td>Color of the outlined select's outline when idle.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-outlined-hover-border-color</code>
      </td>
      <td>
        {' '}
        <code>rgba(0, 0, 0, 0.87)</code>
      </td>
      <td>Color of the outlined select's outline when hovering.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-outlined-disabled-border-color</code>
      </td>
      <td>
        {' '}
        <code>rgba(0, 0, 0, 0.16)</code>
      </td>
      <td>Color of the outlined select's outline when disabled.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-fill-color</code>
      </td>
      <td>
        <code>rgb(245, 245, 245)</code>
      </td>
      <td>Color of the select's background fill (non-outlined).</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-disabled-fill-color</code>
      </td>
      <td>
        <code>rgb(250, 250, 250)</code>
      </td>
      <td>
        Color of the select's background fill (non-outlined) when disabled.
      </td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-ink-color</code>
      </td>
      <td>
        {' '}
        <code>rgba(0, 0, 0, 0.87)</code>
      </td>
      <td>Color of the selected text in default and error states.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-label-ink-color</code>
      </td>
      <td>
        {' '}
        <code>rgba(0, 0, 0, 0.6)</code>
      </td>
      <td>
        Color of the non-focused floating label, helper text, and placeholder.
      </td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-focused-label-color</code>
      </td>
      <td>
        <code>--mdc-theme-primary</code>
      </td>
      <td>
        Color of the focused floating label, helper text, and placeholder.
      </td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-disabled-ink-color</code>
      </td>
      <td>
        <code>rgba(0, 0, 0, 0.37)</code>
      </td>
      <td>
        Color of the input text, the floating label, helper text, and
        placeholder of a disabled select.
      </td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-dropdown-icon-color</code>
      </td>
      <td>
        <code>rgba(0, 0, 0, 0.54)</code>
      </td>
      <td>Color of the dropdown icon when select is not activated.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-focused-dropdown-icon-color</code>
      </td>
      <td>
        <code>--mdc-theme-primary</code>
      </td>
      <td>Color of the dropdown icon when select is activated.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-disabled-dropdown-icon-color</code>
      </td>
      <td>
        <code>rgba(0, 0, 0, 0.38)</code>
      </td>
      <td>Opacity of the dropdown icon when disabled.</td>
    </tr>
    <tr>
      <td>
        <code>--mdc-select-error-dropdown-icon-color</code>
      </td>
      <td>
        <code>--mdc-select-error-color</code>
      </td>
      <td>Color of the dropdown icon when select is invalid.</td>
    </tr>
  </tbody>
</table>

<p>
  <code>ft-select</code> internally uses
  <code>ft-list</code>
  for further details.
</p>

### Global Custom Properties

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <code>--mdc-theme-primary</code>
      </td>
      <td>
        Color when active of the underline ripple, the outline, the caret, the
        dropdown-icon, and the focused and activatd list items.
      </td>
    </tr>
    <tr>
      <td>
        <code>--mdc-theme-error</code>
      </td>
      <td>
        Color when errored of the underline ripple, the outline, the caret, the
        dropdown-icon, and the focused and activatd list items.
      </td>
    </tr>
    <tr>
      <td>
        <code>--mdc-typography-subtitle1-&lt;PROPERTY&gt;</code>
      </td>
      <td>Styles the typography of the selected text.</td>
    </tr>
  </tbody>
</table>
